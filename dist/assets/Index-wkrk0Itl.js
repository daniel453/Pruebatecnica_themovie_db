import{d as g,r as x,o as p,a as w,b as i,c,e as u,w as y,f as e,u as d,t as l,i as k,g as _,s as $,F as I,h as M,j as V}from"./index-Bwq1JTVo.js";import{s as C}from"./index-BxW5bdRS.js";const F={class:"relative h-60"},S=["src"],T=e("div",{class:"absolute inset-0 bg-black bg-opacity-50"},null,-1),B={class:"p-4"},D={class:"text-2xl font-bold"},E={class:"text-gray-400 text-sm mb-4"},j={class:"flex items-center mb-4"},N={class:"text-gray-300 text-sm line-clamp-3"},P=g({__name:"Card",props:{movie:{}},setup(m){const a="https://image.tmdb.org/t/p/",v=m;let s=x(null);return p(()=>{s.value=(v.movie.vote_average/2).toFixed(1)}),(t,r)=>{const o=w("router-link");return i(),c("div",null,[u(o,{to:`/Detail/${t.movie.id}`},{default:y(()=>[e("div",F,[e("img",{src:`${d(a)}/w500${t.movie.backdrop_path}`,alt:"Movie Image",class:"w-full h-full object-cover opacity-80"},null,8,S),T]),e("div",B,[e("h3",D,l(t.movie.title),1),e("p",E,l(t.movie.release_date),1),e("div",j,[u(d(C),{modelValue:d(s),"onUpdate:modelValue":r[0]||(r[0]=n=>k(s)?s.value=n:s=n),readonly:"",stars:5,cancel:!1,class:"mr-2"},null,8,["modelValue"]),e("span",null,l((t.movie.vote_average/2).toFixed(1)),1)]),e("p",N,l(t.movie.overview),1)])]),_:1},8,["to"])])}}}),R={class:"bg-gray-900 text-white min-h-screen p-6"},L=e("h1",{class:"text-4xl font-bold mb-8"},"Tendencias de la semana",-1),O={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},A=g({__name:"Index",setup(m){const a=_(),{trendingMovies:v,paginator:s}=$(a);p(()=>{a.getTrending()});const t={mounted(r){const o={root:null,rootMargin:"0px",threshold:.1},n=h=>{const b=_();h.forEach(f=>{f.isIntersecting&&(s.value.currentPage=s.value.currentPage+1,b.getTrending())})};new IntersectionObserver(n,o).observe(r)},unmounted(r){const o=r;o._observer&&(o._observer.unobserve(o),delete o._observer)}};return(r,o)=>(i(),c("div",R,[L,e("div",O,[(i(!0),c(I,null,M(d(v),n=>(i(),c("div",{key:n.id,class:"relative bg-gray-800 rounded-lg overflow-hidden shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer"},[u(P,{movie:n},null,8,["movie"])]))),128)),V(e("div",null,null,512),[[t,()=>console.log(123)]])])]))}});export{A as default};
